"use strict";(()=>{var v=Object.defineProperty;var w=(n,e,t)=>e in n?v(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var r=(n,e,t)=>w(n,typeof e!="symbol"?e+"":e,t);var o=class o{constructor(){r(this,"data",[]);r(this,"filteredData",[]);r(this,"sortColumn",null);r(this,"sortDirection","asc");r(this,"selectedRow",null);r(this,"listeners",{})}static getInstance(){return o.instance||(o.instance=new o),o.instance}async loadData(e){try{let t=await fetch(e);if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));this.data=await t.json(),this.filteredData=[...this.data],this.notify("data-updated",this.filteredData)}catch(t){console.error("Fetch error:",t),this.notify("error",{message:"Error loading data: ".concat(t.message)})}}setFilter(e){let t=this.data.length>0?Object.keys(this.data[0]):[];this.filteredData=this.data.filter(s=>t.some(d=>(s[d]||"").toLowerCase().includes(e.toLowerCase()))),this.notify("data-updated",this.filteredData)}setSort(e,t){this.sortColumn=e,this.sortDirection=t,this.filteredData.sort((s,d)=>{var g,f;let i=(g=s[e])!=null?g:"",a=(f=d[e])!=null?f:"",m=["customer_id","tax_id"].includes(e),b=!isNaN(parseFloat(i))&&isFinite(parseFloat(i)),x=!isNaN(parseFloat(a))&&isFinite(parseFloat(a));if(m&&b&&x)return this.sortDirection==="asc"?parseFloat(i)-parseFloat(a):parseFloat(a)-parseFloat(i);let u=i.toString().toLowerCase(),h=a.toString().toLowerCase();return this.sortDirection==="asc"?u.localeCompare(h):h.localeCompare(u)}),this.notify("data-updated",this.filteredData)}setSelectedRow(e){this.selectedRow=e,this.notify("row-selected",this.selectedRow)}getFilteredData(){return this.filteredData}getSelectedRow(){return this.selectedRow}getSortColumn(){return this.sortColumn}getSortDirection(){return this.sortDirection}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(s=>s!==t))}notify(e,t){this.listeners[e]&&this.listeners[e].forEach(s=>s(t))}};r(o,"instance");var c=o;var p=class extends HTMLElement{constructor(){super();r(this,"shadow");r(this,"dataController");this.shadow=this.attachShadow({mode:"open"}),this.dataController=c.getInstance(),this.render()}connectedCallback(){this.dataController.on("row-selected",t=>this.render(t))}disconnectedCallback(){this.dataController.off("row-selected",t=>this.render(t))}render(t=null){let s=["first_name","last_name","customer_type"],d=["customer_id","customer_code","company_name","tax_id","status","notes"],i=["created_at","updated_at"];this.shadow.innerHTML="\n            <style>\n                :host {\n                    display: block;\n                    max-width: 1200px;\n                    width: 100%;\n                    background: var(--bg-primary, #ffffff);\n                    border-radius: var(--border-radius, 8px);\n                    box-shadow: var(--shadow, 0 2px 4px rgba(0, 0, 0, 0.05));\n                    padding: var(--padding, 16px);\n                    margin-top: 16px;\n                    font-family: var(--font-family, 'Helvetica', 'Arial', sans-serif);\n                    color: var(--text-primary, #2e3440);\n                }\n                h2 {\n                    font-size: 20px;\n                    font-weight: 600;\n                    margin-bottom: 16px;\n                    color: var(--text-primary, #2e3440);\n                }\n                details {\n                    margin-bottom: 8px;\n                }\n                summary {\n                    cursor: pointer;\n                    font-weight: 600;\n                    color: var(--text-secondary, #5e81ac);\n                    padding: 8px;\n                    background: var(--bg-header, #d9e6f2);\n                    border-radius: var(--border-radius, 8px);\n                }\n                summary:hover {\n                    background: var(--bg-header-hover, #c8d7e8);\n                }\n                ul {\n                    list-style: none;\n                    padding: 0;\n                    margin: 0;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 8px;\n                }\n                li {\n                    display: flex;\n                    justify-content: space-between;\n                    padding: 8px;\n                    border-bottom: 1px solid var(--border-color, #d8dee9);\n                }\n                .detail-label {\n                    font-weight: 600;\n                    color: var(--text-secondary, #5e81ac);\n                    flex: 1;\n                    min-width: 150px;\n                }\n                .detail-value {\n                    flex: 2;\n                    text-align: right;\n                }\n                .no-selection {\n                    color: var(--text-secondary, #5e81ac);\n                    font-style: italic;\n                    text-align: center;\n                }\n                .save-button {\n                    margin-top: 16px;\n                    padding: 8px 16px;\n                    border: 1px solid var(--border-color, #d8dee9);\n                    border-radius: var(--border-radius, 8px);\n                    background: var(--bg-primary, #ffffff);\n                    color: var(--text-button, #81a1c1);\n                    cursor: pointer;\n                }\n                .save-button:hover {\n                    background: var(--bg-header-hover, #c8d7e8);\n                }\n                @media (max-width: 768px) {\n                    :host {\n                        padding: var(--padding-mobile, 8px);\n                    }\n                    h2 {\n                        font-size: 18px;\n                    }\n                    li {\n                        flex-direction: column;\n                        gap: 4px;\n                    }\n                    .detail-label, .detail-value {\n                        text-align: left;\n                        flex: none;\n                    }\n                }\n            </style>\n            <h2>Customer Details</h2>\n            ".concat(t?'\n                <details open>\n                    <summary>Personal Info</summary>\n                    <ul role="list">\n                        '.concat(s.map(a=>t[a]!==void 0?'\n                            <li>\n                                <span class="detail-label">'.concat(a.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase()),':</span>\n                                <span class="detail-value">').concat(t[a]||"N/A","</span>\n                            </li>\n                        "):"").join(""),'\n                    </ul>\n                </details>\n                <details open>\n                    <summary>Account Info</summary>\n                    <ul role="list">\n                        ').concat(d.map(a=>t[a]!==void 0?'\n                            <li>\n                                <span class="detail-label">'.concat(a.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase()),':</span>\n                                <span class="detail-value">').concat(t[a]||"N/A","</span>\n                            </li>\n                        "):"").join(""),'\n                    </ul>\n                </details>\n                <details>\n                    <summary>Metadata</summary>\n                    <ul role="list">\n                        ').concat(i.map(a=>t[a]!==void 0?'\n                            <li>\n                                <span class="detail-label">'.concat(a.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase()),':</span>\n                                <span class="detail-value">').concat(t[a]||"N/A","</span>\n                            </li>\n                        "):"").join(""),'\n                    </ul>\n                </details>\n                <button class="save-button" disabled>Save Changes</button>\n            '):'<p class="no-selection">Select a row to view details</p>',"\n        ")}};customElements.define("fd-detail-view",p);})();
//# sourceMappingURL=fd-detail-view.js.map
